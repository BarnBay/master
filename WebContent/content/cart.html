<br/>
<div class="container">
	<div class="stepwizard">
	    <div class="stepwizard-row">
	        <div class="stepwizard-step">
	            <button type="button" id="shoppingCart" class="btn btn-success btn-circle" disabled="disabled"><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span></button>
	            <p>Shopping Cart</p>
	        </div>
	        <div class="stepwizard-step">
	            <button type="button" id="addressData" class="btn btn-default btn-circle" disabled="disabled"><span class="glyphicon glyphicon-user" aria-hidden="true"></span></button>
	            <p>Address Data</p>
	        </div>
	        <div class="stepwizard-step">
	            <button type="button" id="payment" class="btn btn-default btn-circle" disabled="disabled"><span class="glyphicon glyphicon-euro" aria-hidden="true"></span></button>
	            <p>Payment</p>
	        </div> 
	        <div class="stepwizard-step">
	            <button type="button" id="done" class="btn btn-default btn-circle" disabled="disabled"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
	            <p>Done</p>
	        </div>
	    </div>
	</div>
</div>
<br/><br/>

<div class="container" id="shoppingCartContainer">
	<script type="text/javascript">							
		function displayShoppingCartItem() {
			var obj = JSON.parse($.cookie('Products.ShoppingCart'));
			var shoppingcart = obj['shoppingcart'];
			var out = "";
			var productSubTotal = 0;
			
			out += '<div class="row">';
			out += '	<div class="col-sm-12 col-md-12">';
			out += '		<table class="table table-hover">';
			out += '        	<thead>';
			out += '				<tr>';
			out += '					<th>Product</th>';
			out += '					<th>Location</th>';
			out += '					<th>Quantity</th>';
			out += '					<th class="text-center">Price</th>';
			out += '					<th class="text-center">Total</th>';
			out += '					<th></th>';
			out += '				</tr>';
			out += '			</thead>';
			out += '			<tbody>';
			
			for(i = 0; i < shoppingcart.length; i++) {
				productSubTotal = productSubTotal + (shoppingcart[i].productPrice * shoppingcart[i].productQuantity);
				out += '				<tr>';
				out += '					<td class="col-md-5">';
				out += '						<div class="media">';
				out += '							<img class="media-object pull-left" src="./img/products/' + shoppingcart[i].productName + '.png" style="width: 95px">';
				out += '							<div class="media-body" style="padding: 5px;">';
				out += '								<h4 class="media-heading">' + shoppingcart[i].productName + '</h4>';
				out += '								<h5 class="media-heading"> by ' + shoppingcart[i].farmerName + '</h5>';
				out += '								<span>Status: </span><span class="text-success"><strong>In Stock</strong></span>';
				out += '							</div>';
				out += '						</div>';
				out += '					</td>';
				out += '					<td class="col-md-3">';
				out += '						<select class="form-control input-md" disabled>';
				out += '							<option>' + shoppingcart[i].barnbayName + '</option>';
				out += '						</select>';
				out += '					</td>';
				out += '					<td class="col-sm-1 col-md-1" style="text-align: center">';
				out += '						<input type="email" class="form-control" id="number" value="' + shoppingcart[i].productQuantity + '" disabled>';
				out += '					</td>';
				out += '					<td class="col-sm-1 col-md-1 text-center">';
				out += '						<strong>' + (shoppingcart[i].productPrice).toFixed(2) + ' &euro;</strong>';
				out += '					</td>';
				out += '					<td class="col-sm-1 col-md-1 text-center">';
				out += '						<strong>' + (shoppingcart[i].productPrice * shoppingcart[i].productQuantity).toFixed(2) + ' &euro;</strong>';
				out += '					</td>';
				out += '					<td class="col-sm-1 col-md-1">';
				out += '						<button type="button" class="btn btn-danger" onClick="removeItemFromShoppingCart(' + i + ')">';
				out += '							<span class="glyphicon glyphicon-remove"></span> Remove';
				out += '						</button>';
				out += '					</td>';
				out += '				</tr>';
			}
			
			out += '				<tr>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td><h5>Subtotal</h5></td>';
			out += '					<td class="text-right"><h5><strong>' + productSubTotal.toFixed(2) + ' &euro;</strong></h5></td>';
			out += '              	</tr';
			out += '				<tr>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td><h5>Barnbay fee</h5></td>';
			out += '					<td class="text-right"><h5><strong>' + (productSubTotal * 0.15).toFixed(2) + ' &euro;</strong></h5></td>';
			out += '              	</tr';
			out += '				<tr>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td><h3>Total</h3></td>';
			out += '					<td class="text-right"><h3><strong>' + (productSubTotal * 1.15).toFixed(2) + ' &euro;</strong></h3></td>';
			out += '              	</tr';
			out += '				<tr>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td></td>';
			out += '					<td>';
			out += '						<button type="button" class="btn btn-default">';
			out += '							<span class="glyphicon glyphicon-shopping-cart"></span> Continue Shopping';
			out += '						</button>';
			out += '					</td>';
			out += '					<td>';
			out += '						<button type="button" id="checkout" class="btn btn-success">';
			out += '							<span class="glyphicon glyphicon-usd"></span>Checkout';
			out += '						</button>';
			out += '					</td>';
			out += '				</tr>';
			out += '			</tbody>';
			out += '		</table>';
			out += '    </div>';
			out += '</div>';
			
			document.getElementById("shoppingCartContainer").innerHTML = out;
		}
		
		displayShoppingCartItem();
	</script>
</div>

<script type="text/javascript">
	function removeItemFromShoppingCart(item) {
		var obj = JSON.parse($.cookie('Products.ShoppingCart'));
		var result = JSON.parse('{"shoppingcart":[]}');
		var shoppingcart = obj['shoppingcart'];
		
		for(i = 0; i < shoppingcart.length; i++) {
			if(i != item) {
				result['shoppingcart'].push(shoppingcart[i]);
			}
		}
		
		$.cookie('Products.ShoppingCart', JSON.stringify(result));
		displayShoppingCartItem();
		updateMiniShoppingCart();
	}
</script>