<!-- Implement the JSON Script File for the Farmer list -->
<script src="./json/nav_farmers_list.js"></script>
<script type="text/javascript">
	var ProductListJSONObject;
	var ListOrGridView = "GridView";
	
	$.ajax({
		url: "/barnbay_ui/GetAllFarmers"
	}).done(function(data) {
		FarmerListJSONObject = JSON.parse(data);
		
		countFarmerListFunction(FarmerListJSONObject);
		farmerListFunction(FarmerListJSONObject);
	});
</script>
<!-- End of Implementation -->

<div class="row">
	<!-- Searchbar at the top -->
	<div class="col-lg-12 col-md-12 col-sm-12">
		<div class="input-group">
			<input type="text" class="form-control" placeholder="Search for Farmers..." id="searchInput">
			<div class="input-group-btn">
				<button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button>
			</div>
		</div>
	</div>
	
	<!-- Right Column -->
	<div class="col-lg-12 col-md-12 col-sm-12" style="margin-top: 20px;">
		<!-- <img src="http://placehold.it/1000x300" class="img-responsive" alt="Responsive image">  -->
				
		<div class="well well-sm">
			Showing <strong id="countFarmers"></strong> Farmers
			<script>
				//countFarmerListFunction(FarmerListJSONObject);
				
				function countFarmerListFunction(farmerArray) {
					document.getElementById("countFarmers").innerHTML = farmerArray.length;
				}
			</script>
						
			<div class="pull-right">
				<!-- List or Grid View -->
				<div class="btn-group pull-right" style="margin-top: -5px;">
	        		<a href="#" id="farmerList" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-th-list"></span></a> 
	        		<a href="#" id="farmerGrid" class="btn btn-default btn-sm active"><span class="glyphicon glyphicon-th"></span></a>
	        	</div>
	        	
	        	<!-- Sort by: Default -->
				<div class="form-group pull-right" style="margin-right: 20px;">
					<label for="text" style="float:left; font-weight: normal; margin-right: 10px;">Sort by:</label>       
					<div class="input-group" style="margin-top: -5px;">   
						<select class="form-control input-sm" id="selectNavFarmersList">
							<option value="fId,ASC">Default</option>
							<option value="fName,ASC">Name: A-Z</option>
							<option value="fName,DESC">Name: Z-A</option>
							<option value="fDistance,ASC">Distance: low to high</option>
							<option value="fDistance,DESC">Distance: high to low</option>
							<option value="fRating,ASC">Rating: low to high</option>
							<option value="fRating,DESC">Rating: high to low</option>
						</select>
					</div>
				</div>
				
        	</div>
		</div>
		
		<div id="farmers" class="row list-group">
			<!-- JSON - Create the Product List -->
			<script>				
				function farmerListFunction(farmerArray) {
				    var out = "";
				    var i;
				    for(i = 0; i < farmerArray.length; i++) {
				    	if(ListOrGridView == "GridView") {
					    	out += '<div class="item  col-xs-3 col-lg-3">';
					    	out += '	<div class="thumbnail">';					
					    	out += '		<img class="group gridview-group-small-image" id="farmerDetailView" src="./img/farms/' + farmerArray[i].farmname + '.png" alt="" onclick="farmerGetDetailedFarmerInfo(' + farmerArray[i].idfarmer + ')"/></a>';
					    	out += '		<div class="gridview-group-item-caption">';
					    	out += '			<div class="gridview-group-item-heading" id="farmerDetailView" style="cursor:pointer;" onclick="farmerGetDetailedFarmerInfo(' + farmerArray[i].idfarmer + ')">';
					    	out += '				' + farmerArray[i].farmname;
					    	out += '			</div>';
					    	out += '			<div class="gridview-group-item-text">';
					    	out += '				' + farmerArray[i].farmdescription;
					    	out += '			</div>';
					    	out += '		</div>';
					    	out += '	</div>';
					    	out += '</div>';
				    	} else {
					    	out += '<div class="col-xs-12 col-lg-12" style="margin-top: 10px;">';
					    	out += '	<div class="listview col-xs-12"></div>';
					    	out += '	<div class="col-xs-4">';
					    	out += '		<img class="group listview-group-image" id="farmerDetailView" src="./img/farms/' + farmerArray[i].farmname + '.png" alt="" onclick="farmerGetDetailedFarmerInfo(' + farmerArray[i].idfarmer + ')"/></a>';
					    	out += '	</div>';
					    	out += '	<div class="col-xs-8">';
					    	out += '		<div class="listview-group-item-caption">';
					    	out += '			<div class="listview-group-item-heading" id="farmerDetailView" style="cursor:pointer;" onclick="farmerGetDetailedFarmerInfo(' + farmerArray[i].idfarmer + ')">';
					    	out += '				' + farmerArray[i].farmname;
					    	out += '			</div>';
					    	out += '			<div class="listview-group-item-text">';
					    	out += '				' + farmerArray[i].farmdescription;
					    	out += '			</div>';
					    	out += '		</div>';
					    	out += '	</div>';
					    	out += '</div>';	
				    	}
			    	}
			    
			    	document.getElementById("farmers").innerHTML = out;
				}
			</script>
			<!-- JSON END -->
		</div>
	</div><!-- end right column -->
</div><!-- end row -->


<script type="text/javascript">	
	/* Display Detailed Information about the Product */
	function farmerGetDetailedFarmerInfo(farmerid) {
		$.cookie("Farmer.FarmerListCategoryID", farmerid, { expires: 1 });
	}
</script>